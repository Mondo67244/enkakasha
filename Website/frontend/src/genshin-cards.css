@reference "tailwindcss";
/* ═══════════════════════════════════════════════════════════════
   Genshin Impact — Character Card Design System
   Glassmorphism + Rarity Glow + Grid Layout
   v5: Phase 4 Layout (Primary/Secondary Stats + Mask)
   ═══════════════════════════════════════════════════════════════ */

/* ── Card Container ─────────────────────────────────────────── */
.gi-card {
    position: relative;
    background: var(--color-surface);
    border-radius: 16px;
    padding: 1rem;
    /* Reduced padding for mobile */
    cursor: pointer;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        border-color 0.3s ease;
    overflow: hidden;
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
}

@media (min-width: 768px) {
    .gi-card {
        padding: 1.5rem;
    }
}

.dark .gi-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 16px;
    padding: 1px;
    background: linear-gradient(135deg,
            rgba(180, 160, 110, 0.5) 0%,
            rgba(80, 80, 80, 0.1) 40%,
            rgba(170, 160, 130, 0.3) 60%,
            rgba(50, 50, 55, 0.2) 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
}

.gi-card:hover {
    transform: translateY(-4px) scale(1.01);
    filter: brightness(1.05);
}

/* ── Rarity Variants ────────────────────────────────────────── */
/* 5-Star Card: Light Mode (Gold Background) vs Dark Mode (Dark Gradient) */
.gi-card--rarity-5 {
    background: linear-gradient(135deg, #fffdf5 0%, #fffbf0 100%);
    box-shadow: 0 4px 20px rgba(212, 164, 68, 0.25), 0 0 0 1px rgba(212, 164, 68, 0.15);
    border: 1px solid rgba(212, 164, 68, 0.3);
}

.dark .gi-card--rarity-5 {
    background: var(--color-surface);
    box-shadow: inset 0 0 20px rgba(212, 164, 68, 0.05), 0 4px 24px rgba(0, 0, 0, 0.5);
    border: none;
    filter: drop-shadow(0 0 8px rgba(212, 164, 68, 0.4));
}

.dark .gi-card--rarity-5::before {
    background: linear-gradient(135deg, #d4a444 0%, rgba(212, 164, 68, 0.1) 40%, rgba(255, 215, 100, 0.4) 60%, rgba(150, 90, 20, 0.2) 100%);
}

.gi-card--rarity-5:hover {
    box-shadow: 0 8px 30px rgba(212, 164, 68, 0.4), 0 0 0 2px rgba(212, 164, 68, 0.3);
    transform: translateY(-4px) scale(1.01);
}

.dark .gi-card--rarity-5:hover {
    box-shadow: inset 0 0 30px rgba(212, 164, 68, 0.1), 0 8px 32px rgba(212, 164, 68, 0.15), 0 12px 48px rgba(0, 0, 0, 0.6);
}

/* 4-Star Card: Light Mode (Purple Background) vs Dark Mode (Dark Gradient) */
.gi-card--rarity-4 {
    background: linear-gradient(135deg, #fbf7ff 0%, #f5f0ff 100%);
    box-shadow: 0 4px 20px rgba(164, 114, 199, 0.25), 0 0 0 1px rgba(164, 114, 199, 0.15);
    border: 1px solid rgba(164, 114, 199, 0.3);
}

.dark .gi-card--rarity-4 {
    background: var(--color-surface);
    box-shadow: inset 0 0 20px rgba(164, 114, 199, 0.05), 0 4px 24px rgba(0, 0, 0, 0.5);
    border: none;
}

.dark .gi-card--rarity-4::before {
    background: linear-gradient(135deg, #a472c7 0%, rgba(164, 114, 199, 0.1) 40%, rgba(220, 180, 255, 0.4) 60%, rgba(80, 40, 100, 0.2) 100%);
}

.gi-card--rarity-4:hover {
    box-shadow: 0 8px 30px rgba(164, 114, 199, 0.4), 0 0 0 2px rgba(164, 114, 199, 0.3);
    transform: translateY(-4px) scale(1.01);
}

.dark .gi-card--rarity-4:hover {
    box-shadow: inset 0 0 30px rgba(164, 114, 199, 0.1), 0 8px 32px rgba(164, 114, 199, 0.15), 0 12px 48px rgba(0, 0, 0, 0.6);
}

/* ── Grid Layout (Phase 4) ──────────────────────────────────── */
.gi-card-content {
    display: grid;
    grid-template-columns: min-content 1fr;
    gap: 0.75rem;
    /* Smaller gap on mobile */
    margin-bottom: 0.75rem;
}

@media (min-width: 768px) {
    .gi-card-content {
        gap: 1.25rem;
        margin-bottom: 1rem;
    }
}

.gi-card-left {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
}

.gi-card-right {
    display: flex;
    flex-direction: column;
    flex: 1;
    min-width: 0;
}

.gi-card-header {
    display: flex;
    justify-content: space-between;
    align-items: start;
    margin-bottom: 0.25rem;
}

/* ── Avatar with Mask (Phase 4) ────────────────────────────── */
.gi-avatar {
    position: relative;
    height: 4rem;
    /* Smaller on mobile */
    width: 4rem;
    border-radius: 14px;
    overflow: hidden;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    /* Softer shadow for light mode */

    /* Mask Image for Fade Effect (Bottom & Right) */
    -webkit-mask-image: linear-gradient(135deg, black 65%, transparent 100%);
    mask-image: linear-gradient(135deg, black 65%, transparent 100%);
}

@media (min-width: 768px) {
    .gi-avatar {
        height: 5rem;
        width: 5rem;
    }
}

.dark .gi-avatar {
    border: 2px solid rgba(255, 235, 200, 0.15);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

.gi-avatar--rarity-5 {
    background: linear-gradient(135deg, #e7a108 0%, #aa7709 100%);
    /* Light yellow/gold */
}

.dark .gi-avatar--rarity-5 {
    background: radial-gradient(circle at center, #e7a108 0%, #aa7709 100%);
}

.gi-avatar--rarity-4 {
    background: linear-gradient(135deg, #651ab6 0%, #6a0fcc 100%);
    /* Light purple */
}

.dark .gi-avatar--rarity-4 {
    background: radial-gradient(circle at center, #5d00e7 0%, #7100e9 100%);
}

.gi-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.gi-avatar__element {
    position: absolute;
    top: 0;
    left: 0;
    width: 24px;
    height: 24px;
    background: var(--color-surface-muted);
    border-bottom-right-radius: 8px;
    box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.15), 1px 1px 2px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
    border-right: 1px solid var(--color-line);
    border-bottom: 1px solid var(--color-line);
}

.gi-avatar__element img {
    width: 16px;
    height: 16px;
    filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.5));
}

/* ── Character Name & Level ─────────────────────────────────── */
.gi-char-name {
    font-family: 'Inter', system-ui, sans-serif;
    font-size: 1.15rem;
    font-weight: 700;
    letter-spacing: -0.01em;
    color: var(--color-text-strong);
    line-height: 1.1;
}

.gi-level-badge {
    font-size: 0.75rem;
    font-family: 'Inter', system-ui, sans-serif;
    font-weight: 700;
    letter-spacing: 0.02em;
    color: var(--color-text-strong);
    background: var(--color-surface-muted);
    border: 1px solid var(--color-line);
    border-radius: 6px;
    padding: 0.15rem 0.4rem;
    white-space: nowrap;
}

/* ── Primary Stats (Phase 4) ────────────────────────────────── */
.gi-stats-primary {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.gi-stat-primary-item {
    display: flex;
    flex-direction: column;
    line-height: 1;
}

.gi-stat-primary-label {
    font-size: 0.65rem;
    color: var(--color-text-muted);
    font-weight: 600;
    margin-bottom: 2px;
}

.gi-stat-primary-value {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--color-accent);
}

/* ── Secondary Stats (Phase 4) ──────────────────────────────── */
.gi-stats-secondary {
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
}

.gi-stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.8rem;
    padding: 0.15rem 0.4rem;
    border-radius: 4px;
}

.gi-stat-row:hover {
    background: var(--color-surface-muted);
}

.gi-stat-label {
    color: var(--color-text-muted);
    font-weight: 500;
}

.gi-stat-value {
    color: var(--color-text-strong);
    font-weight: 600;
}

/* ── Artifact Slots (Phase 4 Spacing) ───────────────────────── */
.gi-artifact-slots {
    display: flex;
    justify-content: space-between;
    /* Spread evenly */
    align-items: center;
    width: 100%;
    gap: 0.25rem;
    /* Fallback gap */
}

.gi-artifact-slot {
    width: 42px;
    height: 42px;
    flex-shrink: 0;
    border-radius: 4px;
    background: var(--color-surface-muted);
    border: 1px solid var(--color-line);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
}

.gi-artifact-slot:hover {
    border-color: var(--color-accent-soft);
    transform: translateY(-1px);
    background: var(--color-surface);
}

.gi-artifact-slot--active {
    border-color: var(--color-accent-strong);
    box-shadow: 0 0 0 2px rgba(212, 164, 68, 0.4), inset 0 0 10px rgba(0, 0, 0, 0.1);
    background: var(--color-accent-soft);
}

.dark .gi-artifact-slot--active {
    border-color: #d4a444;
    box-shadow: 0 0 0 1px rgba(212, 164, 68, 0.3), inset 0 0 10px rgba(0, 0, 0, 0.5);
    background: rgba(212, 164, 68, 0.05);
}

.gi-artifact-slot img {
    height: 2rem;
    width: 2rem;
    object-fit: contain;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.4));
}

.gi-artifact-slot__placeholder {
    font-size: 9px;
    color: var(--color-text-muted);
    font-weight: 500;
}

/* ── Artifact Detail Panel (unchanged) ──────────────────────── */
.gi-artifact-detail {
    margin-top: 0.75rem;
    border-radius: 12px;
    border: 1px solid var(--color-line);
    background: var(--color-surface-muted);
    padding: 0.75rem;
    min-height: 86px;
}

.gi-artifact-detail__title {
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--color-accent);
}

.gi-artifact-detail__main {
    font-size: 0.75rem;
    color: var(--color-text-strong);
    font-weight: 600;
    margin-top: 0.25rem;
}

.gi-artifact-detail__subs {
    margin-top: 0.5rem;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.15rem 0.75rem;
}

.gi-artifact-detail__sub {
    font-size: 0.68rem;
    color: var(--color-text);
}

.gi-artifact-detail__empty {
    font-size: 0.75rem;
    color: var(--color-text-muted);
}

/* ── Card Footer ────────────────────────────────────────────── */
.gi-card__footer {
    padding-top: 0.75rem;
    border-top: 1px solid var(--color-line);
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: auto;
}

.gi-card__footer-count {
    font-size: 0.75rem;
    color: var(--color-text-muted);
}

.gi-card__footer-link {
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--color-accent-strong);
    /* Stronger color for visibility */
    transition: color 0.2s;
}

.gi-card:hover .gi-card__footer-link {
    color: var(--color-text-strong);
    text-decoration: none;
}

/* ── Search / Filter / Header (unchanged) ───────────────────── */
.gi-search-bar {
    background: var(--surface);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.06);
    border-radius: 14px;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

@media (min-width: 768px) {
    .gi-search-bar {
        flex-direction: row;
        align-items: center;
    }
}

.gi-search-bar input,
.gi-search-bar select {
    background: var(--color-surface-muted);
    border: 1px solid var(--color-line);
    color: var(--color-text-strong);
    border-radius: 10px;
    padding: 0.6rem 0.75rem;
    font-size: 0.85rem;
    outline: none;
    transition: all 0.2s;
}

.gi-search-bar input {
    padding-left: 2.25rem;
}

.gi-search-bar input::placeholder {
    color: var(--color-text-muted);
}

.gi-search-bar input:focus,
.gi-search-bar select:focus {
    border-color: var(--color-accent);
    box-shadow: 0 0 0 2px var(--color-accent-soft), inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

.gi-search-bar select option {
    background: var(--color-app-bg);
    color: var(--color-text-strong);
}

.gi-page-header {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

@media (min-width: 640px) {
    .gi-page-header {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
    }
}

.gi-page-header__subtitle {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.3em;
    color: var(--color-text-muted);
}

.gi-page-header__title {
    font-family: 'Inter', system-ui, sans-serif;
    font-size: 1.75rem;
    font-weight: 700;
    letter-spacing: -0.03em;
    color: var(--color-text-strong);
}

.gi-page-header__action {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-accent);
    cursor: pointer;
    transition: color 0.2s;
    background: var(--color-accent-soft);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    border: 1px solid var(--color-accent-soft);
}

.gi-page-header__action:hover {
    color: var(--color-text-strong);
    background: var(--color-accent-soft);
    border-color: var(--color-accent);
}

/* Stars */
.gi-stars {
    display: flex;
    gap: 2px;
}

.gi-stars__star {
    width: 12px;
    height: 12px;
    clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
    filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.3));
}

.gi-stars__star--gold {
    background: linear-gradient(135deg, #fff0c0 0%, #e8c66a 50%, #d4a444 100%);
}

.gi-stars__star--purple {
    background: linear-gradient(135deg, #eaddff 0%, #bc94dc 50%, #a472c7 100%);
}

/* Responsive grid */
.gi-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
}

@media (min-width: 768px) {
    .gi-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1280px) {
    .gi-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* ---------------------------------------------------------------
   MENTOR SHOWCASE LAYOUT (Layout 2026)
   --------------------------------------------------------------- */

/* -- Main Container -- */
.showcase-card {
    @apply bg-transparent p-0;
}

/* -- Top Section: Header -- */
.showcase-header {
    @apply flex flex-col lg:flex-row gap-4 lg:gap-8 mb-8;
}

/* -- Portrait Section (Left) -- */
.character-portrait {
    @apply relative flex-shrink-0 lg:w-1/3 h-96 lg:h-auto rounded-3xl overflow-hidden bg-no-repeat bg-cover bg-center;
    background-image: linear-gradient(to top, var(--app-bg) 20%, transparent 60%), var(--element-glow), radial-gradient(circle, var(--surface-muted) 0%, var(--app-bg) 100%);
    box-shadow: inset 0 0 150px 20px var(--app-bg);
    /* Vignette effect */
}

.character-image {
    @apply absolute inset-0 w-full h-full object-cover object-top mix-blend-luminosity opacity-40 transition-all duration-500;
}

.character-portrait:hover .character-image {
    @apply opacity-60 scale-105;
}

.character-branding {
    @apply absolute bottom-0 left-0 p-6 sm:p-8 z-10;
}

.character-name {
    @apply text-4xl lg:text-6xl font-bold text-white font-display tracking-tight drop-shadow-lg;
}

.character-element {
    @apply flex items-center gap-3 mt-2;
}

.character-element .element-name {
    @apply text-sm uppercase tracking-[0.3em] font-medium text-white/60;
}

.character-element img {
    @apply h-7 w-7;
}

/* -- Main Content Section (Center/Right) -- */
.showcase-main-content {
    @apply flex-1 grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-8;
}

/* -- Bottom Section: Details -- */
.showcase-details {
    @apply grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8;
}

.details-column {
    @apply flex flex-col gap-4 lg:gap-8;
}

/* -- Reusable Data Panel -- */
.data-panel {
    @apply bg-[var(--surface)] border border-[var(--line)] rounded-2xl p-4 sm:p-6 flex flex-col;
}

.panel-title {
    @apply text-sm font-bold text-[var(--text-strong)] flex items-center gap-2 mb-4 uppercase tracking-wider;
}

.panel-icon {
    @apply h-5 w-5 text-[var(--accent)];
}

/* Glassmorphism Variant */
.glass-panel {
    background-color: rgba(11, 14, 20, 0.5);
    /* Semi-transparent version of #0b0e14 */
    @apply backdrop-blur-xl border-white/10;
}


/* -- Specific Component Styles -- */

/* Stats Panel */
.stats-grid {
    @apply grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-2;
}

.stat-item {
    @apply flex justify-between items-baseline p-2 rounded-lg transition-colors hover:bg-white/5;
}

.stat-label {
    @apply text-sm text-[var(--text-muted)];
}

.stat-value {
    @apply font-mono font-bold text-lg text-[var(--text-strong)];
}

/* Swap Plan Panel */
.swap-plan-item {
    @apply p-3 rounded-lg bg-black/20 border border-transparent transition-all hover:border-[var(--accent)]/30 hover:bg-[var(--surface)];
}

.swap-plan-slot {
    @apply text-xs font-bold uppercase tracking-widest text-[var(--accent)];
}

.swap-plan-details {
    @apply text-xs text-[var(--text-muted)] mt-1;
}

.swap-plan-from {
    @apply line-through opacity-60;
}

.swap-plan-to {
    @apply text-[var(--text)];
}

/* Artifacts Panel */
.artifacts-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-1 xl:grid-cols-2 gap-4;
}

.artifact-target-badge {
    @apply absolute -top-2 left-1/2 -translate-x-1/2 px-2 py-0.5 bg-[var(--accent)] text-white text-[9px] font-bold rounded-full z-10 shadow-lg;
}

.artifact-card p,
.artifact-card ul {
    color: var(--text-main) !important;
    /* Fix white text issue */
}

/* Config Panel & Form Elements */
.form-input,
.form-textarea {
    @apply w-full bg-black/30 border border-[var(--line)] rounded-lg px-3 py-2 text-sm text-[var(--text-strong)] focus:border-[var(--accent)] focus:ring-1 focus:ring-[var(--accent)]/20 focus:outline-none transition-all;
}

.form-textarea {
    @apply resize-none h-24;
}

.button-icon {
    @apply px-3 py-2 bg-[var(--surface-muted)] hover:bg-[var(--surface)] border border-[var(--line)] rounded-lg text-[var(--text-strong)] disabled:opacity-50 transition-all flex items-center justify-center;
}

.button-icon>svg {
    @apply h-5 w-5;
}

.button-primary {
    @apply w-full py-3 rounded-lg bg-[var(--accent)] text-black font-bold shadow-lg shadow-[var(--accent)]/10 hover:shadow-[var(--accent)]/20 transition-all disabled:opacity-50 disabled:shadow-none;
}

.provider-button {
    @apply w-full px-3 py-1.5 rounded-lg text-xs font-medium transition-all;
}

.provider-button.active {
    @apply bg-[var(--accent)] text-black shadow-md;
}

.error-message {
    @apply text-red-400 text-xs bg-red-400/10 p-2 rounded-lg border border-red-400/20 mt-2;
}